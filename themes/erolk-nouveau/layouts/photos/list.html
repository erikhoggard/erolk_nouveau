{{ define "main" }}
<div class="container mx-auto px-4 mt-8">
    <div class="prose lg:prose-xl max-w-none mb-8">
        {{ with .Title }}
        <h1>{{ . }}</h1>
        {{ end }}

        {{ with .Content }}
        <div class="prose-styles">
            {{ . }}
        </div>
        {{ end }}
    </div>

    {{/* Photo Grid */}}
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
        {{/*
        Using .Pages is the standard way to get child pages within a section template.
        This is simpler and more reliable than the previous method.
        */}}
        {{ range .Pages.ByDate.Reverse }}
        <a href="{{ .Permalink }}" class="relative group block overflow-hidden rounded-lg">
            {{ with .Params.image }}
            <img src="{{ . | absURL }}" alt="{{ $.Title }}" class="w-full h-full object-cover transform transition-transform duration-300 group-hover:scale-110">
            {{ end }}
            <div class="absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <h3 class="text-white text-lg font-bold text-center">{{ .Title }}</h3>
                <p class="text-gray-300 text-sm mt-1">{{ .Date.Format "January 2, 2006" }}</p>
            </div>
        </a>
        {{ else }}
        <p class="col-span-full text-center text-text-secondary">No photo entries found in 'content/photos/'.</p>
        {{ end }}
    </div>
</div>
{{ end }}



