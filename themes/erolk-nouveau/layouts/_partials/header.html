{{ warnf "HEADER.HTML | Menu Status: %v" .Site.Menus.main }}
<header class="relative flex justify-between items-center my-8">
    {{/* Site Title */}}
    <a href="{{ .Site.BaseURL }}" class="text-xl font-bold text-text-primary hover:text-link-hover transition-colors">
        {{ .Site.Title }}
    </a>

    {{/* --- Right Side Controls --- */}}
    {{/* This space-x-6 correctly spaces the nav from the theme toggle */}}
    <div class="flex items-center space-x-6">

        {{/* Desktop Navigation (hidden on mobile)*/}}
        <nav class="hidden md:flex">
            <ul class="flex items-center space-x-6">
                {{ range .Site.Menus.main }}
                <li>
                    <a href="{{ .URL }}" class="text-link-primary hover:text-text-primary transition-colors">
                        {{ .Name }}
                    </a>
                </li>
                {{ end }}
            </ul>
        </nav>

        {{/* Theme Toggle (always visible) */}}
        <div>
            {{ partial "theme-toggle.html" . }}
        </div>

        {{/* Mobile Menu Button (mobile only) */}}
        <button id="mobile-menu-button" class="md:hidden text-link-primary">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                 xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
    </div>
</header>

{{/* --- Mobile Menu Dropdown --- */}}
{{/* --- Mobile Menu Dropdown --- */}}
<nav id="main-nav" class="hidden md:hidden pb-4">
    <ul class="flex flex-col space-y-2 p-4 bg-background-secondary rounded-md  text-right">
        {{ range .Site.Menus.main }}
        <li>
            <a href="{{ .URL }}"
               class="block text-link-primary hover:text-text-primary transition-colors">
                {{ .Name }}
            </a>
        </li>
        {{ end }}
    </ul>
</nav>